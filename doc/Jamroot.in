project halmd/doc
    : source-location @CMAKE_CURRENT_SOURCE_DIR@
    ;

using xsltproc ;
using doxygen ;
import path ;

using boostbook
    : /usr/share/xml/docbook/stylesheet/nwalsh
    : /usr/share/xml/docbook/schema/dtd/4.2
    : /usr/share/boostbook
    ;

using quickbook
    : /usr/bin/quickbook
    ;

doxygen autodoc
    :
    [ path.glob-tree @CMAKE_SOURCE_DIR@/src/halmd : *.cpp *.hpp ]
    ;

xml halmd : index.qbk ;

boostbook standalone
    :
        halmd
    :
        <xsl:param>boost.image.src=halmd_logo.png
        <xsl:param>boost.image.alt=HALMD
        <xsl:param>boost.image.w=786
        <xsl:param>boost.image.h=90
        <xsl:param>nav.layout=none
        <xsl:param>html.stylesheet=boostbook.css
        <xsl:param>admon.graphics.path=
        <xsl:param>navig.graphics.path=
        <xsl:param>callout.graphics.path=
        <xsl:path>@CMAKE_CURRENT_BINARY_DIR@
        <dependency>autodoc
    ;

install html
    :
      boostbook.css
      [ glob-tree *.png ]
    ;

