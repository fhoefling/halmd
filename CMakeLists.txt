CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(hardspheres)

SET(CMAKE_MODULE_PATH ${hardspheres_SOURCE_DIR}/CMakeModules)

SET(GIT_FIND_REQUIRED TRUE)
FIND_PACKAGE(Git)

GIT_REPOSITORY_INFO(${hardspheres_SOURCE_DIR} hardspheres)

SET(PROGRAM_NAME "hardspheres")

IF(hardspheres_GIT_TAGS)
  SET(PROGRAM_VERSION "version ${hardspheres_GIT_TAGS}")
ELSE(hardspheres_GIT_TAGS)
  IF(hardspheres_GIT_COMMIT)
    SET(PROGRAM_VERSION "commit ${hardspheres_GIT_COMMIT}")
  ELSE(hardspheres_GIT_COMMIT)
    SET(PROGRAM_VERSION "unknown version")
  ENDIF(hardspheres_GIT_COMMIT)
ENDIF(hardspheres_GIT_TAGS)

IF(hardspheres_GIT_AUTHOR_DATE)
  SET(PROGRAM_DATE "${hardspheres_GIT_AUTHOR_DATE}")
ELSE(hardspheres_GIT_AUTHOR_DATE)
  SET(PROGRAM_DATE "unknown date")
ENDIF(hardspheres_GIT_AUTHOR_DATE)


SET(GSL_FIND_REQUIRED TRUE)
SET(GSL_FIND_QUIETLY TRUE)
FIND_PACKAGE(GSL)

SET(Boost_FIND_REQUIRED TRUE)
SET(Boost_FIND_QUIETLY TRUE)
OPTION(Boost_USE_MULTITHREADED OFF)
FIND_PACKAGE(Boost COMPONENTS filesystem date_time program_options)

FIND_PACKAGE(Gnuplot)

SET(HDF5_FIND_REQUIRED TRUE)
SET(HDF5_FIND_QUIETLY TRUE)
FIND_PACKAGE(HDF5)

INCLUDE_DIRECTORIES(${hardspheres_SOURCE_DIR}/include)

ADD_SUBDIRECTORY(src)
